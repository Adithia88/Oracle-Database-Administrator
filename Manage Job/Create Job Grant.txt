BEGIN
   DBMS_SCHEDULER.create_job (
      job_name        => 'JOB_GRANT_PERMISSIONS',
      job_type        => 'PLSQL_BLOCK',
      job_action      => '
         BEGIN
            EXECUTE IMMEDIATE ''GRANT SELECT ON STG_BTNSMART.AKTIVASI_TARGET TO APP_BTNSMART'';
            EXECUTE IMMEDIATE ''GRANT SELECT ON STG_BTNSMART.CIF_BARU TO APP_BTNSMART'';
            EXECUTE IMMEDIATE ''GRANT SELECT ON STG_BTNSMART.GIRO_BARU TO APP_BTNSMART'';
            EXECUTE IMMEDIATE ''GRANT SELECT ON STG_BTNSMART.GIRO_TUTUP TO APP_BTNSMART'';
            EXECUTE IMMEDIATE ''GRANT SELECT ON STG_BTNSMART.SMARTDAILY TO APP_BTNSMART'';
            EXECUTE IMMEDIATE ''GRANT SELECT ON STG_BTNSMART.SMARTDAILY_UPD TO APP_BTNSMART'';
            EXECUTE IMMEDIATE ''GRANT SELECT ON STG_BTNSMART.SMARTDAILY_UPD2 TO APP_BTNSMART'';
            EXECUTE IMMEDIATE ''GRANT SELECT ON STG_BTNSMART.TBL_KETERSAMBUNGAN_AKUISISI_MB TO APP_BTNSMART'';
            EXECUTE IMMEDIATE ''GRANT SELECT ON STG_BTNSMART.ITPD_925_PPO TO APP_BTNSMART'';
            EXECUTE IMMEDIATE ''GRANT SELECT ON STG_BTNSMART.ITPD_925_KREDIT TO APP_BTNSMART'';
            EXECUTE IMMEDIATE ''GRANT SELECT ON STG_BTNSMART.ITPD_925_DISB_KREDIT TO APP_BTNSMART'';
            EXECUTE IMMEDIATE ''GRANT SELECT ON DM_ANALYTICS.POTENSI_BTNSMART TO APP_BTNSMART'';
         END;',
      start_date      => SYSTIMESTAMP,
      repeat_interval => 'FREQ=HOURLY; INTERVAL=1', -- set agar job berjalan setiap jam
      enabled         => TRUE
   );
END;
/
